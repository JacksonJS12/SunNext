@model SunNext.Web.ViewModels.Blog.BlogPostViewModel

@{
    ViewData["Title"] = Model.Title;
    var images = Model.ImagesUrls?.Split('|', StringSplitOptions.RemoveEmptyEntries) ?? Array.Empty<string>();
}

<div class="container py-5">
    <div class="card glass-card shadow-lg border-0 overflow-hidden">

        @if (images.Length > 0)
        {
            <img src="@images[0]" alt="Cover image" class="card-img-top rounded-0"
                 style="max-height: 450px; object-fit: cover; width: 100%;" />
        }

        <div class="card-body px-md-5 py-4">
            <h1 class="fw-bold display-5 mb-4">@Model.Title</h1>

            <div class="blog-content fs-5 lh-lg">
                @Html.Raw(Model.Content)
            </div>
        </div>

        @if (images.Length > 1)
        {
            <div class="px-md-5 pb-4">
                <h4 class="fw-semibold mb-3">Gallery</h4>
                <div class="row g-3">
                    @foreach (var img in images.Skip(1))
                    {
                        <div class="col-6 col-md-4 col-lg-3">
                            <a href="@img" class="glightbox" data-gallery="blog-gallery" data-type="image">
                                <img src="@img" alt="Gallery image" class="img-fluid w-100 rounded-3 shadow-sm" />
                            </a>
                        </div>
                    }
                </div>
            </div>
        }

    </div>

    <div class="text-end mt-4">
        <span class="badge bg-@(Model.IsPublished ? "success" : "secondary") px-3 py-2 fs-6 rounded-pill shadow-sm">
            @(Model.IsPublished ? "Published" : "Unpublished")
        </span>
    </div>
</div>
<style>
    .glightbox-clean .gslide-image img {
        width: auto !important;
        max-width: 90vw !important;
        max-height: 90vh !important;
        height: auto !important;
        object-fit: contain !important;
    }

</style>